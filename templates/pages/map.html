<div id="map" data-role="page">

	<div class="toolbar" data-role="header" data-position="fixed" data-theme="b">
		<h1>Map</h1>
		<a href="#dashboard" data-transition="pop"><i class="icon-th"></i></a>
		<a href="#submit" data-transition="slidedown"><i class="icon-plus"></i> Submit</a>
	</div>

	<section id="wrapper">
	 
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
	    <article>
	      <p id="statusBlock"><span id="status">Please wait whilst we try to locate you...</span></p>
	    </article>
	<script>
	function success(position) {
	  var s = document.querySelector('#status');
	 
	  if (s.className == 'success') {
	    return;
	  }
	 
	  s.innerHTML = "found you!";
	  s.className = 'success';

	  var statusBlock = document.getElementById("statusBlock");
	  statusBlock.style.display="none";

	 
	  var mapcanvas = document.createElement('div');
	  mapcanvas.id = 'mapcanvas';
	  mapcanvas.style.height = '500px'; //need to dynamically size to size of viewable browser area
	  mapcanvas.style.width = '560px';
	 
	  document.querySelector('article').appendChild(mapcanvas);
	 
	  var latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
	  var myOptions = {
	    zoom: 15,
	    center: latlng,
	    mapTypeControl: false,
	    navigationControlOptions: {style: google.maps.NavigationControlStyle.SMALL},
	    mapTypeId: google.maps.MapTypeId.ROADMAP
	  };
	  var map = new google.maps.Map(document.getElementById("mapcanvas"), myOptions);
	 
	  var marker = new google.maps.Marker({
	      position: latlng,
	      map: map,
	      title:"You are here!"
	  });
	}
	 
	function error(msg) {
	  var s = document.querySelector('#status');
	  s.innerHTML = typeof msg == 'string' ? msg : "failed";
	  s.className = 'fail';
	 
	  // console.log(arguments);
	}
	 
	if (navigator.geolocation) {
	  navigator.geolocation.getCurrentPosition(success, error);
	} else {
	  error('not supported');
	}
	 
	</script>
	</section>
	<div data-role="footer" data-position="fixed">
		<div data-role="navbar">
			<ul>
				<li><a href="#map" class="ui-btn-active ui-state-persist" data-transition="none"><i class="icon-map-marker"></i> Map</a></li>
				<li><a href="#list" data-transition="none"><i class="icon-list"></i> List</a></li>
			</ul>
		</div>
	</div>
</div>