{"ts":1353996922035,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"{% extends \"base.html\" %}\n{% load markup %}\n{% block id %}detail{% endblock id %}\n{% block content %}\n\t<div class=\"toolbar\" data-role=\"header\" data-position=\"fixed\" data-theme=\"b\">\n\t\t<h1>{{ fix.description|truncatewords:5 }}</h1>\n\t\t<a href=\"/\" data-rel=\"back\" data-icon=\"arrow-l\">Back</a>\n\t\t<div id=\"status-select\" class=\"ui-btn-right\">\n\t\t\t<select name=\"select-choice-4\" id=\"select-choice-4\" data-theme=\"b\" tabindex=\"-1\">\n\t\t\t\t<option {% if fix.status = 0 %}selected=\"selected\"{% endif %} id=\"open\" value=\"0\">Open</option>\n\t\t\t\t<option {% if fix.status = 1 %}selected=\"selected\"{% endif %} id=\"taken\" value=\"1\">Taken</option>\n\t\t\t\t<option {% if fix.status = 2 %}selected=\"selected\"{% endif %} id=\"done\" value=\"2\">Done</option>\n\t\t\t</select>\n\t\t</div>\n\t</div>\n\t<br>\n\t<div class=\"carousel\" id=\"{{ fix.id }}\">\n\t\t<ul style=\"height: {{ fix.image.height }};\">\n\t\t\t<li><img src=\"{{ fix.image.url }}\" alt=\"\" /></li>\n\t\t\t<li><img id=\"{{ fix.id }}-map\" /></li>\n\t\t</ul>\n\t</div>\n\t<div data-role=\"content\">\n\t\t<ul data-role=\"listview\" data-inset=\"true\">\n\t\t\t{# <li class=\"ui-grid-a\"> #}\n\t\t\t\t{# <p class=\"muted ui-block-a\">Status</p> #}\n\t\t\t\t{# <p class=\"ui-block-b\"><strong>{{ fix.get_status_display }}</strong></p> #}\n\t\t\t{# </li> #}\n\t\t\t<li>\n\t\t\t\t<h3>Description</h3>\n\t\t\t\t{{ fix.description|markdown }}\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<h3>Tags</h3>\n\t\t\t\t<p>{% for tag in fix.tags.all %}<span class=\"tag\">{{ tag }}</span>{% endfor %}</p>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\n\t{# The following code might be nice... #}\n\t{% with fix.nearby as nearby_fixes %}\n\t\t{% if nearby_fixes %}\n\t\t\t{% for nearby_fix in nearby_fixes %}\n\t\t    \t{{ nearby_fix }}\n\t\t    {% endfor %}\n\t\t{% endif %}\n\t{% endwith %}\n\n\t<script type=\"text/javascript\">\n\t\tvar width = $(document).width()\n\t\tvar height = Math.ceil({{ fix.image.height }}/{{ fix.image.width }} * $(document).width());\n\t\turl = GMaps.staticMapURL({\n  \t\t\tsize: [width, height],\n  \t\t\tlat: {{ fix.latitude }},\n  \t\t\tlng: {{ fix.longitude }},\n  \t\t\tscale: 2,\n  \t\t\tmarkers: [\n  \t\t\t  {lat: {{ fix.latitude }}, lng: {{ fix.longitude }}},\n  \t\t\t  {lat: {{ latitude }}, lng: {{ longitude }},\n  \t\t\t    color: 'blue'}\n  \t\t\t]\n\t\t});\n\n\t\t$('#{{ fix.id }}-map').attr('src', url);\n\t\t$('#{{ fix.id }} img').width($(document).width() - 20);\n\n\t\t$('#detail').live('pageshow', function() {\n\t\t\twindow.swipe{{ fix.id }} = new Swipe(\n\t\t\t\tdocument.getElementById('{{ fix.id }}')\n\t\t\t);\n\t\t})\n\n\t\t$('select').on('change', function(e) {\n\t\t\t$.post('{% url update-request fix.id %}', { 'status': $(this).val(), }, function(data){\n\t\t\t\t\n\t\t\t})\n\t\t})\n\t</script>\n{% endblock content %}"]],"start1":0,"start2":0,"length1":0,"length2":2530}]],"length":2530}
